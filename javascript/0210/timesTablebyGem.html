<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>가변 구구단 레이아웃</title>
  <style>
    body { font-family: sans-serif; padding: 20px; background-color: #f8f9fa; }
    .input-container { max-width: 600px; margin-bottom: 30px; }
    .input-group { display: flex; margin-bottom: 10px; align-items: center; }
    .input-group label { width: 200px; }
    .input-group input { flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
    
    /* 가변 레이아웃의 핵심: Grid */
    #demo {
      display: grid;
      gap: 15px; /* 단 사이의 간격 */
      width: 100%;
    }

    .table-card {
      background: white;
      padding: 15px;
      border: 1px solid #eee;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    .table-title { font-weight: bold; border-bottom: 2px solid #007bff; margin-bottom: 10px; padding-bottom: 5px; }
    button { width: 100%; padding: 10px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
    button:hover { background: #0056b3; }
  </style>
</head>
<body>

  <div class="input-container">
    <div class="input-group"><label>First Table</label><input type="number" id="first" value="1"></div>
    <div class="input-group"><label>Last Table</label><input type="number" id="last" value="9"></div>
    <div class="input-group"><label>Columns (가로 칸 수)</label><input type="number" id="cols" value="3"></div>
    <button onclick="timesTable()">Times Table 생성</button>
  </div>

  <div id="demo"></div>

  <script>
    'use strict';

    function timesTable() {
      let first = parseInt(document.getElementById('first').value);
      let last = parseInt(document.getElementById('last').value);
      let cols = parseInt(document.getElementById('cols').value);
      const demo = document.getElementById('demo');

      if(first > last) [first, last] = [last, first];

      // 핵심: JS에서 CSS 변수를 직접 수정하거나 style 속성으로 그리드 칸수 지정
      demo.style.gridTemplateColumns = `repeat(${cols}, 1fr)`;

      let str = '';
      for(let i = first; i <= last; i++) {
        str += `<div class="table-card"><div class="table-title">${i}단</div>`;
        for(let j = 1; j <= 9; j++) {
          str += `<div>${i} × ${j} = ${i * j}</div>`;
        }
        str += '</div>';
      }
      demo.innerHTML = str;
    }
  </script>
</body>
</html>
