<!DOCTYPE html>
<html lang="kor" data-bs-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <title>Sign Up</title>
  <style>
    h2 { text-align: center;}    
  </style>
</head>
<body>
  <p><br/></p>
  <div class="container form-control">
    <div class="form-control">
      <h2>회원가입</h2>
      <form name="sign_in_form">
      <div class="input-group">
        <div class="input-group-text col-2">ID 입력</div>
        <input type="text" name="id" class="form-control" required autofocus placeholder=" Choose Your Unique ID">
        <input type="button" value="ID 중복 확인" onclick="idCheck()" class="col-2">
      </div><br/>
      <div class="input-group">
        <div class="input-group-text col-2">비밀번호</div>
        <input type="password" name="pw" class="form-control" required placeholder=" Choose Your Password">
        <div class="input-group-text col-2">재입력</div>
        <input type="password" name="repeat_pw" class="form-control" required placeholder=" Type Your Password Again">
      </div><br/>
      <div class="input-group">
        <div class="input-group-text col-2">이메일주소</div>
        <input type="text" name="email" class="form-control" required placeholder=" ex - id@darktheme.com">
      </div><br/>
      <div class="input-group">
        <div class="input-group-text col-2">이름</div>
        <input type="text" name="name" class="form-control" required placeholder=" Enter Your Full Name">
      </div><br/>
      <div class="input-group">
        <div class="input-group-text col-2">생년월일</div>
        <input type="date" name="birthdate" class="form-control">
      </div><br/>
      <div class="input-group">
        <div class="input-group-text col-2">통신사</div>
        <select name="mcarrier" class="form-control">
          <option value="">&nbsp;Choose Your Mobile Carrier</option>
          <option value="0">&nbsp;skt</option>
          <option value="1">&nbsp;kt</option>
          <option value="2">&nbsp;lgt</option>
        </select>
      </div><br/>
      <div class="input-group">
          <div class="input-group-text col-2">휴대전화번호</div>
          <input type="text" name="mobile" class="form-control" required placeholder=" Enter Your Mobile Phone Number ex - 010 1234 5678">
      </div><br/>  
      <div class="input-group">
        <div class="input-group-text col-2">국적&nbsp;</div>
        <div class="form-check form-control" >
          <label class="form-check-label" for="korean">&nbsp;
            <input class="form-check-input" type="radio" name="nationality" id="korean" checked>
            Korean
          </label>
        </div>
        <div class="form-check form-control">
          <label class="form-check-label" for="foreigner">&nbsp;
            <input class="form-check-input" type="radio" name="nationality" id="foreigner">
            Foreigner
          </label>
        </div>
      </div><br/>  
      <div class="input-group">          
          <input type="button" name="SignIn" value="Sign In" onclick="formCheck()" style="width: 100%;">
      </div><br/>  
      </form>
      
    </div>
    <div id="demoDb"></div>    
  </div>

  <script>
  'use strict';

  // function idCheck() {
  //     let url = 't05_child.html';
  //     let nWindow = 'newWindow';
  //     let windowWidth = 400;
  //     let windowHeight = 300;
  //     let x = (window.screen.width / 2) - (windowWidth / 2);
  //     let y = (window.screen.height / 2) - (windowHeight / 2);
  //     let opt = `width=${windowWidth}px, height=${windowHeight}px, left=${x}px, top=${y}px`;

  //     newWin = window.open(url, nWindow, opt);
  // }

  function formCheck() {
    const signInForm = document.sign_in_form;
    const id = signInForm.id.value.trim();
    if(!id) {
      alert('Enter your id');
      signInForm.id.focus();
      return false;
    };
    const password = signInForm.pw.value.trim();
    if(!password) { 
      alert('Enter your password');
      signInForm.pw.focus();
      return false;
    };
    const repeat = signInForm.repeat_pw.value.trim();
    if(!repeat) { 
      alert('Enter your password again');
      signInForm.repeat_pw.focus();
      return false;      
    }else if(password!=repeat) {
      alert('Password mismatch');
      signInForm.pw.focus();
      return false;
    };
    const email = signInForm.email.value.trim();
    if(!email) { 
      alert('Enter your email');
      signInForm.email.focus();
      return false;
    };
    const name = signInForm.name.value.trim();
    if(!name) { 
      alert('Enter your name');
      signInForm.name.focus();
      return false;      
    };
    const today = new Date();
    today.setHours(0,0,0,0);
    // console.log(today);
    const birthdate = signInForm.birthdate.value;
    // console.log(birthdate);
    if(!birthdate) {
      alert('Choose your birth date');
      signInForm.birthdate.focus();
      return false;      
    }else if(new Date(birthdate) > today) {
      alert('You cannot choose future');
      signInForm.birthdate.value = '';
      // console.log(birthdate);
      signInForm.birthdate.focus();
      return false;
    };
    const mcarrier = signInForm.mcarrier.value;
    if(mcarrier=='') {
      alert('Choose Your Mobile Carrier');      
      return false;      
    };
    const mobile = signInForm.mobile.value.trim();
    if(!mobile) { 
      alert('Enter your mobile phone number');
      signInForm.mobile.focus();
      return false;      
    };    
    const nationality = document.querySelector('input[name="nationality"]:checked')?.parentElement.innerText;

    let str = '';
    
    str += `id : <span>${id}</span><br/>`;
    str += `password : <span>${password}</span><br/>`;
    str += `repeated password : <sapn>${repeat}</sapn><br/>`;
    str += `email address : <span>${email}</span><br/>`;
    str += `name : <span>${name}</span><br/>`;
    str += `birth date : <sapn>${birthdate}</sapn><br/>`;
    str += `mobile carrier : <sapn>${mcarrier}</sapn><br/>`;
    str += `mobile phone number : <span>${mobile}</span><br/>`;
    str += `nationlity : <span>${nationality}</span><br/>`;
    demoDb.innerHTML = str;


  }
  </script>
</body>
</html>